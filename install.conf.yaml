- clean: ['~', '$XDG_CONFIG_HOME']

- shell:
    - [git submodule update --init --recursive, Installing submodules]

# ==========
# Core links
# ==========
- defaults:
    link:
      relink: true
      create: true
      relative: true

- link:
    ~/.dotfiles:
      path: ''
      if: '[ ! -d ~/.dotfiles ]'
    ~/.scripts:
      path: scripts
      relink: true
    ~/.colors:
      path: colors
      relink: true

# ============
# Common links
# ============
- defaults:
    link:
      relink: true
      create: true
      relative: true

- link:
    # directories
    # -----------
    ~/.config/i3status-rust: i3status-rust
    ~/.config/nvim: neovim
    ~/.config/termite: termite
    ~/.config/fontconfig: fontconfig

    # files
    # -----
    # -- gpg
    ~/.gitconfig: git/config
    ~/.gitconfig-work: git/config-work
    ~/.gitconfig-personal: git/config-personal
    ~/.gitignore_global: git/gitignore_global
    ~/.ssh/config: ssh/config
    ~/.ssh/gpg-qubidt.pub: ssh/gpg-qubidt.pub
    ~/.ssh/gpg-baot.pub: ssh/gpg-baot.pub
    ~/.gnupg/gpg-agent.conf: gnupg/gpg-agent.conf
    ~/.gnupg/sshcontrol: gnupg/sshcontrol
    # -- tmux
    ~/.tmux.conf: tmux/tmux.conf
    ~/.tmuxline.conf: tmux/tmuxline.conf
    # -- zsh
    ~/.zshenv: zshenv
    ~/.config/zsh: zsh
    # -- misc
    ~/.base16_theme: base16_theme
    ~/.vimperator: vimperator
    ~/.vimperatorrc: vimperatorrc
    ~/.config/alacritty/base16-colors.yml: alacritty/base16-colors.yml

# ================
# MacOS only links
# ================
- defaults:
    link:
      relink: true
      create: true
      relative: true
      if: '[ "$(uname)" "==" "Darwin" ]'

- link:
    # directories
    # -----------
    ~/.config/iterm2: iterm2
    ~/.mpd: mpd
    ~/Library/Application Support/Übersicht/widgets: ubersicht/widgets

    # files
    # -----
    ~/.chunkwmrc: chunkwm/chunkwmrc.sh
    ~/.skhdrc: chunkwm/skhdrc
    ~/.Brewfile: brew/Brewfile
    ~/.config/alacritty/alacritty.base.yml: alacritty/alacritty.base.macos.yml
    ~/.chunkwmrc: chunkwm/chunkwmrc.sh
    ~/.skhdrc: chunkwm/skhdrc
    ~/Library/Application Support/Übersicht/widgets: ubersicht/widgets

# ================
# Linux only links
# ================
- defaults:
    link:
      relink: true
      create: true
      relative: true
      if: '[ "$(expr substr $(uname -s) 1 5)" "==" "Linux" ]'

- link:
    # directories
    # -----------
    ~/.config/sway: sway
    ~/.config/rofi/config: rofi/config

    # files
    # -----
    ~/.config/alacritty/alacritty.base.yml: alacritty/alacritty.base.linux.yml
    ~/.xbindkeysrc: xbindkeysrc
    ~/.Xresources: Xresources
    ~/.xinitrc: xinitrc
    ~/.xprofile: xprofile

- shell:
    - [~/.colors/base16-shell-hooks/alacritty.sh, Generating alacritty config]
